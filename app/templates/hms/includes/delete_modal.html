<!-- Reusable delete confirmation modal -->
<div class="modal modal-blur fade" id="deleteModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
    <div class="modal-content">
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      <div class="modal-status bg-danger"></div>
      <div class="modal-body text-center py-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon mb-2 text-danger icon-lg" width="48" height="48" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M4 7h16" />
          <path d="M10 11v6" />
          <path d="M14 11v6" />
          <path d="M5 7l1 13a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -13" />
          <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
        </svg>
        <h3 class="mb-2" id="deleteModalTitle">Are you sure?</h3>
        <p class="text-muted" id="deleteModalMessage">This action cannot be undone.</p>
        
        <!-- Dynamic content area for additional info -->
        <div id="deleteModalExtra" class="mt-3 small text-start bg-light p-3 rounded d-none"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-link link-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
        <button type="button" class="btn btn-danger" id="deleteModalConfirm">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <line x1="4" y1="7" x2="20" y2="7" />
            <line x1="10" y1="11" x2="10" y2="17" />
            <line x1="14" y1="11" x2="14" y2="17" />
            <path d="M5 7l1 14a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -14" />
            <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
          </svg>
          Delete
        </button>
      </div>
    </div>
  </div>
</div>

<script>
let deleteCallback = null;

function confirmDelete(event, title, message, extraInfo = null, callback) {
  event.preventDefault();
  
  // Set modal content
  document.getElementById('deleteModalTitle').textContent = title || 'Are you sure?';
  document.getElementById('deleteModalMessage').textContent = message || 'This action cannot be undone.';
  
  // Handle extra info
  const extraDiv = document.getElementById('deleteModalExtra');
  if (extraInfo) {
    extraDiv.innerHTML = extraInfo;
    extraDiv.classList.remove('d-none');
  } else {
    extraDiv.classList.add('d-none');
  }
  
  // Store callback
  deleteCallback = callback;
  
  // Show modal
  const modal = new bootstrap.Modal(document.getElementById('deleteModal'));
  modal.show();
}

// Handle confirm button
document.getElementById('deleteModalConfirm').addEventListener('click', function() {
  if (deleteCallback) {
    deleteCallback();
  }
  
  // Hide modal
  bootstrap.Modal.getInstance(document.getElementById('deleteModal')).hide();
});

// Alternative: Simple inline confirmation
function confirmDeleteInline(event, message = 'Are you sure you want to delete this?') {
  if (!confirm(message)) {
    event.preventDefault();
    return false;
  }
  return true;
}
</script>