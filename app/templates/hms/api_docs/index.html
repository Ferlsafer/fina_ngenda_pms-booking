{% extends "hms/layout/base.html" %}
{% block title %}API Documentation - Hotel PMS{% endblock %}

{% block content %}
<div class="page-header d-print-none">
  <div class="row align-items-center">
    <div class="col">
      <h2 class="page-title">API documentation</h2>
      <div class="text-muted mt-1">Overview, authentication, rate limits, and getting started</div>
    </div>
    <div class="col-auto">
      <a href="{{ '#' if url_for is defined else '#' }}" class="btn btn-primary">Endpoint reference</a>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-lg-8">
    <div class="card mb-3">
      <div class="card-header">
        <h3 class="card-title">Overview</h3>
      </div>
      <div class="card-body">
        <p>The Hotel PMS API is a REST API that allows you to integrate with bookings, rooms, restaurant, and reporting. All responses are JSON.</p>
        <p class="mb-0"><strong>Base URL:</strong> <code>{{ api_base_url|default('https://api.yourhotel.com/v1') }}</code></p>
      </div>
    </div>

    <div class="card mb-3">
      <div class="card-header">
        <h3 class="card-title">Authentication</h3>
      </div>
      <div class="card-body">
        <p>Use an API key in the request header:</p>
        <pre class="bg-dark text-light p-3 rounded"><code>Authorization: Bearer YOUR_API_KEY
# or
X-API-Key: YOUR_API_KEY</code></pre>
        <p>Create and manage API keys in <a href="{{ '#' if url_for is defined else '#' }}">Settings → API & integrations</a>.</p>
      </div>
    </div>

    <div class="card mb-3">
      <div class="card-header">
        <h3 class="card-title">Rate limits</h3>
      </div>
      <div class="card-body">
        <ul class="mb-0">
          <li><strong>Default:</strong> 100 requests per minute per API key.</li>
          <li>Rate limit headers: <code>X-RateLimit-Limit</code>, <code>X-RateLimit-Remaining</code>, <code>X-RateLimit-Reset</code>.</li>
          <li>When exceeded: <code>429 Too Many Requests</code>.</li>
        </ul>
      </div>
    </div>

    <div class="card mb-3">
      <div class="card-header">
        <h3 class="card-title">Getting started</h3>
      </div>
      <div class="card-body">
        <ol>
          <li>Create an API key in Settings → API & integrations.</li>
          <li>Use the key in the <code>Authorization: Bearer &lt;key&gt;</code> header for every request.</li>
          <li>All request bodies use <code>Content-Type: application/json</code>.</li>
          <li>Check the <a href="{{ '#' if url_for is defined else '#' }}">Endpoint reference</a> for request/response examples.</li>
        </ol>
      </div>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Quick links</h3>
      </div>
      <div class="list-group list-group-flush">
        <a href="{{ '#' if url_for is defined else '#' }}" class="list-group-item list-group-item-action">Endpoint reference</a>
        <a href="{{ '#' if url_for is defined else '#' }}" class="list-group-item list-group-item-action">API keys & webhooks</a>
      </div>
    </div>
    <div class="card mt-3">
      <div class="card-header">
        <h3 class="card-title">HTTP status codes</h3>
      </div>
      <div class="card-body">
        <table class="table table-sm mb-0">
          <tr><td><code>200</code></td><td>Success</td></tr>
          <tr><td><code>201</code></td><td>Created</td></tr>
          <tr><td><code>400</code></td><td>Bad request</td></tr>
          <tr><td><code>401</code></td><td>Unauthorized</td></tr>
          <tr><td><code>404</code></td><td>Not found</td></tr>
          <tr><td><code>429</code></td><td>Rate limited</td></tr>
          <tr><td><code>500</code></td><td>Server error</td></tr>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
